const imageContainer=document.querySelector(".slider__images-container"),change=document.querySelector(".slider__handle"),body=document.body,scale=document.querySelector(".slider__scale"),ConditionBefore=document.querySelector(".slider__condition--before"),ConditionAfter=document.querySelector(".slider__condition--after"),mediaQuery=window.matchMedia("(min-width: 768px)");function rezizeChecker(){let e=!1;imageContainer.style.setProperty("--curtain-position",""),mediaQuery.matches?change.style.transform="":change.style.left="",change.addEventListener("mousedown",(()=>{mediaQuery.matches&&(e=!0)})),scale.addEventListener("mousedown",(()=>{mediaQuery.matches&&(e=!0)})),window.addEventListener("mouseup",(()=>{e=!1})),body.addEventListener("mouseleave",(()=>{e=!1})),body.addEventListener("mousemove",(n=>{if(mediaQuery.matches){if(!e)return;let a=n.pageX;a-=scale.getBoundingClientRect().left,t(a),n.stopPropagation(),n.preventDefault()}}));const t=function(e){if(mediaQuery.matches){let t=Math.max(0,Math.min(e,scale.offsetWidth));change.style.left=100*t/scale.offsetWidth+"%";let n=100-100*t/scale.offsetWidth+"%";imageContainer.style.setProperty("--curtain-position",n)}};change.addEventListener("touchstart",(()=>{mediaQuery.matches&&(e=!0,body.style.overflow="hidden")})),scale.addEventListener("touchstart",(()=>{mediaQuery.matches&&(e=!0,body.style.overflow="hidden")})),body.addEventListener("touchend",(()=>{mediaQuery.matches&&(e=!1,"hidden"===body.style.overflow&&(body.style.overflow=""))})),body.addEventListener("touchcancel",(()=>{e=!1})),body.addEventListener("touchmove",(n=>{if(mediaQuery.matches){if(!e)return;let a,o;for(o=0;o<n.changedTouches.length;o++)a=n.changedTouches[o].pageX;a-=scale.getBoundingClientRect().left,t(a),n.stopPropagation(),n.preventDefault()}}),{passive:!1}),scale.addEventListener("click",(e=>{if(e.stopPropagation(),e.preventDefault(),mediaQuery.matches){let n=e.pageX;n-=scale.getBoundingClientRect().left,t(n)}else change.style.left="","translateX(100%)"===change.style.transform?(change.style.transform="",imageContainer.style.setProperty("--curtain-position","100%")):(change.style.transform="translateX(100%)",imageContainer.style.setProperty("--curtain-position","0%"))})),ConditionBefore.addEventListener("click",(()=>{mediaQuery.matches?(imageContainer.style.setProperty("--curtain-position","100%"),change.style.transform="",change.style.left="0%"):(change.style.left="",imageContainer.style.setProperty("--curtain-position","100%"),change.style.transform="")})),ConditionAfter.addEventListener("click",(()=>{mediaQuery.matches?(imageContainer.style.setProperty("--curtain-position","0%"),change.style.transform="",change.style.left="100%"):(change.style.left="",imageContainer.style.setProperty("--curtain-position","0%"),change.style.transform="translateX(100%)")}))}rezizeChecker();